<div class="tree" ng-class="{ 'visible-on-mobile' : $ctrl.visibleOnMobile() }">
  <div class="heading">
    <div class="title">
      <h1>Departments</h1>
      <small><a ui-sref=".chart" ui-sref-active="d-none">Organizational Chart</a></small>
    </div>
    <div class="actions">
      <a ng-click="$ctrl.departments.openNewModal($ctrl.$stateParams.departmentId)"
         data-title="Add Department"
         data-placement="left"
         data-trigger="hover"
         bs-tooltip>
        <i class="fas fa-plus"></i>
      </a>
    </div>
  </div>
  <div class="list">
    <div class="input-group search">
      <input type="text"
             class="form-control"
             ng-model="$ctrl.searchValue"
             ng-model-options="{ debounce: 500 }"
             ng-change="$ctrl.search()"
             placeholder="Filter Departments">
      <div class="input-group-append">
        <span class="input-group-text">
          <i class="fas fa-search"></i>
        </span>
      </div>
    </div>
    <div class="list-group list-group-flush">
      <loading-list ng-if="$ctrl.loading && $ctrl.list.length == 0"></loading-list>
    </div>
    <departments-list level="0" list="$ctrl.list" search-value="$ctrl.searchValue"></departments-list>
    <div ng-if="!$ctrl.loading && $ctrl.list.length == 0 && $ctrl.search == ''" class="text-center m-3 my-5">
      <i class="fas fa-sitemap blankslate-icon"></i>
      <h5>No Departments</h5>
      <p>
        Get started by adding a department
      </p>
      <a class="btn btn-primary" ng-click="$ctrl.departments.openNewModal($ctrl.$stateParams.departmentId)">
        Add Department
      </a>
    </div>
  </div>
  <div class="branch" ui-view>
    <div class="placeholder"></div>
  </div>
</div>
